package library.handlers;

import org.eclipse.xtend2.lib.StringConcatenation;

@SuppressWarnings("all")
public class InitHandlerGenerator implements HandlerGenerator {
  @Override
  public CharSequence generate() {
    StringConcatenation _builder = new StringConcatenation();
    _builder.append("package handlers;");
    _builder.newLine();
    _builder.newLine();
    _builder.append("import org.eclipse.core.commands.AbstractHandler;");
    _builder.newLine();
    _builder.append("import org.eclipse.core.commands.ExecutionEvent;");
    _builder.newLine();
    _builder.append("import org.eclipse.core.commands.ExecutionException;");
    _builder.newLine();
    _builder.append("import org.eclipse.jface.window.Window;");
    _builder.newLine();
    _builder.append("import org.eclipse.ui.IWorkbenchWindow;");
    _builder.newLine();
    _builder.append("import org.eclipse.ui.handlers.HandlerUtil;");
    _builder.newLine();
    _builder.newLine();
    _builder.append("import commands.InitCommand;");
    _builder.newLine();
    _builder.append("import dialogs.InitDialog;");
    _builder.newLine();
    _builder.newLine();
    _builder.append("public class InitHandler extends AbstractHandler {");
    _builder.newLine();
    _builder.newLine();
    _builder.append("\t");
    _builder.append("InitCommand initCommand;");
    _builder.newLine();
    _builder.append("\t");
    _builder.append("private InitDialog dialog;");
    _builder.newLine();
    _builder.newLine();
    _builder.append("\t");
    _builder.append("public InitHandler() {");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("super();");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("// TODO change the hard code for user input (dialog or SelectUtils from EGit)");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("// initCommand = new");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("// InitCommand(\"C:/Users/WickkaWizz/egit-master/ws/Playground2\");");
    _builder.newLine();
    _builder.append("\t");
    _builder.append("}");
    _builder.newLine();
    _builder.newLine();
    _builder.append("\t");
    _builder.append("@Override");
    _builder.newLine();
    _builder.append("\t");
    _builder.append("public Object execute(ExecutionEvent event) throws ExecutionException {");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("// Initialize the window and set the shell");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("IWorkbenchWindow window = HandlerUtil.getActiveWorkbenchWindowChecked(event);");
    _builder.newLine();
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("dialog = new InitDialog(window.getShell());");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("// Open the dialog");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("dialog.create();");
    _builder.newLine();
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("// If OK has been pressed, do something");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("if (dialog.open() == Window.OK) {");
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.append("// Simply call the command and execute it.");
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.append("// Create the command and set the path");
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.append("// Example of a valid path: C:/Users/WickkaWizz/egit-master/ws/Playground2");
    _builder.newLine();
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.append("System.out.println(dialog.getPathToRepo());");
    _builder.newLine();
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.append("initCommand = new InitCommand(dialog.getPathToRepo());");
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.append("initCommand.call();");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("}");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("return null;");
    _builder.newLine();
    _builder.append("\t");
    _builder.append("}");
    _builder.newLine();
    _builder.newLine();
    _builder.append("}");
    _builder.newLine();
    _builder.newLine();
    return _builder;
  }
}
